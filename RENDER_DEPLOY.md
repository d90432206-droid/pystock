# ABC ç­–ç•¥é¸è‚¡ç³»çµ± - Render éƒ¨ç½²æŒ‡å—

## ğŸš€ éƒ¨ç½²åˆ° Render

æœ¬å°ˆæ¡ˆå·²æ•´åˆå‰å¾Œç«¯ç‚ºå–®ä¸€ Docker å®¹å™¨ï¼Œå¯ç›´æ¥éƒ¨ç½²åˆ° Renderã€‚

### éƒ¨ç½²æ­¥é©Ÿ

#### 1. é€£æ¥ GitHub Repository
- ç™»å…¥ [Render Dashboard](https://dashboard.render.com/)
- é»æ“Š **New +** â†’ **Web Service**
- é¸æ“‡æ‚¨çš„ GitHub repository

#### 2. é…ç½® Web Service

å¡«å¯«ä»¥ä¸‹è¨­å®šï¼š

| è¨­å®šé … | å€¼ |
|--------|-----|
| **Name** | `pystock-abc` (æˆ–æ‚¨å–œæ­¡çš„åç¨±) |
| **Region** | Oregon (US West) æˆ–è·é›¢æœ€è¿‘çš„å€åŸŸ |
| **Branch** | `main` (æˆ–æ‚¨çš„ä¸»åˆ†æ”¯åç¨±) |
| **Runtime** | **Docker** |
| **Docker Command** | (ç•™ç©ºï¼Œä½¿ç”¨ Dockerfile ä¸­çš„ CMD) |
| **Instance Type** | Free æˆ– Starter ($7/æœˆ) |

#### 3. è¨­å®šç’°å¢ƒè®Šæ•¸

åœ¨ **Environment** å€åŸŸæ·»åŠ ä»¥ä¸‹è®Šæ•¸ï¼š

```
GEMINI_API_KEY=æ‚¨çš„Gemini_APIé‡‘é‘°
PORT=10000
```

> âš ï¸ **æ³¨æ„**: Render çš„ Free plan è‡ªå‹•æä¾› `PORT` ç’°å¢ƒè®Šæ•¸ï¼Œé€šå¸¸æ˜¯ `10000`

#### 4. éƒ¨ç½²

- é»æ“Š **Create Web Service**
- Render æœƒè‡ªå‹•ï¼š
  1. åŸ·è¡Œ `Dockerfile` ä¸­çš„å¤šéšæ®µæ§‹å»º
  2. ç¬¬ä¸€éšæ®µï¼šæ§‹å»º React å‰ç«¯ (`npm run build`)
  3. ç¬¬äºŒéšæ®µï¼šå®‰è£ Python ä¾è³´ä¸¦æ•´åˆå‰ç«¯
  4. å•Ÿå‹• FastAPI æœå‹™å™¨

#### 5. è¨ªå•æ‚¨çš„æ‡‰ç”¨

éƒ¨ç½²æˆåŠŸå¾Œï¼Œæ‚¨æœƒç²å¾—ä¸€å€‹ URLï¼Œä¾‹å¦‚ï¼š
```
https://pystock-abc.onrender.com
```

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
09_PY_STOCK/
â”œâ”€â”€ frontend/               # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”œâ”€â”€ stock2.py              # FastAPI å¾Œç«¯ï¼ˆæ•´åˆå‰ç«¯æœå‹™ï¼‰
â”œâ”€â”€ Dockerfile             # å¤šéšæ®µæ§‹å»ºï¼ˆå‰ç«¯ + å¾Œç«¯ï¼‰
â”œâ”€â”€ requirements.txt       # Python ä¾è³´
â””â”€â”€ tickers.txt           # è‚¡ç¥¨ä»£ç¢¼åˆ—è¡¨
```

---

## ğŸ”§ æœ¬åœ°é–‹ç™¼

### æ–¹å¼ 1: Docker (æ¨è–¦)

```bash
# æ§‹å»º Docker æ˜ åƒ
docker build -t pystock-abc .

# é‹è¡Œå®¹å™¨
docker run -p 8001:8001 -e GEMINI_API_KEY=ä½ çš„é‡‘é‘° pystock-abc
```

è¨ªå•: `http://localhost:8001`

### æ–¹å¼ 2: åˆ†åˆ¥é‹è¡Œå‰å¾Œç«¯

**å¾Œç«¯:**
```bash
pip install -r requirements.txt
python stock2.py
```

**å‰ç«¯ (å¦ä¸€å€‹çµ‚ç«¯):**
```bash
cd frontend
npm install
npm run dev
```

è¨ªå•: 
- å‰ç«¯: `http://localhost:5173`
- å¾Œç«¯API: `http://localhost:8001/api/health`

---

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å•é¡Œ: å‰ç«¯é¡¯ç¤ºç©ºç™½æˆ– JSON éŒ¯èª¤

**åŸå› **: å‰ç«¯æ²’æœ‰æ­£ç¢ºæ§‹å»º

**è§£æ±ºæ–¹æ³•**:
1. æª¢æŸ¥ Render æ§‹å»ºæ—¥èªŒï¼Œç¢ºèª `npm run build` æˆåŠŸåŸ·è¡Œ
2. ç¢ºèª `frontend/dist` ç›®éŒ„è¢«æ­£ç¢ºè¤‡è£½åˆ°å®¹å™¨ä¸­
3. æŸ¥çœ‹ Python æ—¥èªŒï¼Œæª¢æŸ¥ `frontend_dist` è·¯å¾‘æ˜¯å¦å­˜åœ¨

### å•é¡Œ: API è«‹æ±‚ 404

**åŸå› **: è·¯ç”±é…ç½®å•é¡Œ

**è§£æ±ºæ–¹æ³•**:
1. ç¢ºèªæ‰€æœ‰ API è·¯ç”±éƒ½ä»¥ `/api/` é–‹é ­
2. æª¢æŸ¥ `stock2.py` ä¸­çš„è·¯ç”±å®šç¾©é †åºï¼ˆAPI routes å¿…é ˆåœ¨é€šç”¨è·¯å¾‘ `/{full_path:path}` ä¹‹å‰ï¼‰

### å•é¡Œ: Render éƒ¨ç½²å¤±æ•—

**å¯èƒ½åŸå› **:
- Docker æ§‹å»ºè¶…æ™‚ (Free plan é™åˆ¶)
- npm ä¾è³´å®‰è£å¤±æ•—

**è§£æ±ºæ–¹æ³•**:
1. å‡ç´šåˆ° Starter plan
2. æª¢æŸ¥ `frontend/package.json` ä¾è³´æ˜¯å¦æ­£ç¢º
3. æŸ¥çœ‹ Render æ§‹å»ºæ—¥èªŒçš„è©³ç´°éŒ¯èª¤ä¿¡æ¯

---

## ğŸ“ æŠ€è¡“æ”¯æ´

- **GitHub Issues**: [æäº¤å•é¡Œ](æ‚¨çš„GitHub repoé€£çµ)
- **æ–‡ä»¶**: åƒè€ƒ `README.md` å’Œä»£ç¢¼è¨»è§£

---

## ğŸ” å®‰å…¨æ€§æé†’

1. **ä¸è¦** å°‡ `GEMINI_API_KEY` ç¡¬ç·¨ç¢¼åœ¨ä»£ç¢¼ä¸­
2. ä½¿ç”¨ Render çš„ **Environment Variables** å„²å­˜æ•æ„Ÿä¿¡æ¯
3. å®šæœŸæ›´æ–°ä¾è³´å¥—ä»¶ä»¥ä¿®è£œå®‰å…¨æ¼æ´

---

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆç‚ºå€‹äººå°ˆæ¡ˆï¼Œè«‹å‹¿ç”¨æ–¼å•†æ¥­ç”¨é€”ã€‚
